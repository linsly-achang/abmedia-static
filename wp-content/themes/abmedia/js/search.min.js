jQuery(async $=>{$("#search-btn,#close-btn,#primary-search .cover-layer").click(()=>$("#primary-search").toggleClass("show"));const convert=await OpenCC.Converter("tw","cn"),startNode=document.documentElement,HTMLConvertHandler=OpenCC.HTMLConverter(convert,startNode,"zh-TW","zh-CN");function switchLang(lang){switch(lang){case"tw":HTMLConvertHandler.restore(),$(".trans-tr-cn>div>div:first-child").addClass("active"),$(".trans-tr-cn>div>div:last-child").removeClass("active");break;case"cn":HTMLConvertHandler.convert(),$(".trans-tr-cn>div>div:first-child").removeClass("active"),$(".trans-tr-cn>div>div:last-child").addClass("active")}}function getLang(){const cookie=document.cookie.split(";").map(v=>v.trim(v)).find(v=>v.startsWith("openccLang="));if(cookie)return cookie.split("=")[1]}function setCookie(key,value){document.cookie=`${key}=${value}; path=/`}getLang()&&switchLang(getLang()),$(".trans-tr-cn>div>div").click(e=>{let lang="";switch(e.currentTarget.innerText){case"繁":lang="tw";break;case"简":lang="cn"}setCookie("openccLang",lang),switchLang(lang)})});